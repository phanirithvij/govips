// Code generated by vipsgen. DO NOT EDIT.
#include "gen_create.h"

int gen_vips_black(int width, int height, VipsImage ** out_out, GenBlackOpts *opts) {
    VipsOperation *op = vips_operation_new("black");
    if (!op) return -1;

    if (vips_object_set(VIPS_OBJECT(op), "width", width, NULL)) goto error;
    if (vips_object_set(VIPS_OBJECT(op), "height", height, NULL)) goto error;

    if (opts) {
        if (opts->has_bands) {
            vips_object_set(VIPS_OBJECT(op), "bands", opts->bands, NULL);
        }
    }

    if (vips_cache_operation_buildp(&op)) goto error;

    g_object_get(VIPS_OBJECT(op), "out", out_out, NULL);

    vips_object_unref_outputs(VIPS_OBJECT(op));
    g_object_unref(op);
    return 0;

error:
    vips_object_unref_outputs(VIPS_OBJECT(op));
    g_object_unref(op);
    return -1;
}

int gen_vips_buildlut(VipsImage * input, VipsImage ** out_out) {
    VipsOperation *op = vips_operation_new("buildlut");
    if (!op) return -1;

    if (vips_object_set(VIPS_OBJECT(op), "in", input, NULL)) goto error;

    if (vips_cache_operation_buildp(&op)) goto error;

    g_object_get(VIPS_OBJECT(op), "out", out_out, NULL);

    vips_object_unref_outputs(VIPS_OBJECT(op));
    g_object_unref(op);
    return 0;

error:
    vips_object_unref_outputs(VIPS_OBJECT(op));
    g_object_unref(op);
    return -1;
}

int gen_vips_eye(int width, int height, VipsImage ** out_out, GenEyeOpts *opts) {
    VipsOperation *op = vips_operation_new("eye");
    if (!op) return -1;

    if (vips_object_set(VIPS_OBJECT(op), "width", width, NULL)) goto error;
    if (vips_object_set(VIPS_OBJECT(op), "height", height, NULL)) goto error;

    if (opts) {
        if (opts->has_uchar) {
            vips_object_set(VIPS_OBJECT(op), "uchar", (gboolean)opts->uchar, NULL);
        }
        if (opts->has_factor) {
            vips_object_set(VIPS_OBJECT(op), "factor", opts->factor, NULL);
        }
    }

    if (vips_cache_operation_buildp(&op)) goto error;

    g_object_get(VIPS_OBJECT(op), "out", out_out, NULL);

    vips_object_unref_outputs(VIPS_OBJECT(op));
    g_object_unref(op);
    return 0;

error:
    vips_object_unref_outputs(VIPS_OBJECT(op));
    g_object_unref(op);
    return -1;
}

int gen_vips_fractsurf(int width, int height, double fractalDimension, VipsImage ** out_out) {
    VipsOperation *op = vips_operation_new("fractsurf");
    if (!op) return -1;

    if (vips_object_set(VIPS_OBJECT(op), "width", width, NULL)) goto error;
    if (vips_object_set(VIPS_OBJECT(op), "height", height, NULL)) goto error;
    if (vips_object_set(VIPS_OBJECT(op), "fractal-dimension", fractalDimension, NULL)) goto error;

    if (vips_cache_operation_buildp(&op)) goto error;

    g_object_get(VIPS_OBJECT(op), "out", out_out, NULL);

    vips_object_unref_outputs(VIPS_OBJECT(op));
    g_object_unref(op);
    return 0;

error:
    vips_object_unref_outputs(VIPS_OBJECT(op));
    g_object_unref(op);
    return -1;
}

int gen_vips_gaussmat(double sigma, double minAmpl, VipsImage ** out_out, GenGaussmatOpts *opts) {
    VipsOperation *op = vips_operation_new("gaussmat");
    if (!op) return -1;

    if (vips_object_set(VIPS_OBJECT(op), "sigma", sigma, NULL)) goto error;
    if (vips_object_set(VIPS_OBJECT(op), "min-ampl", minAmpl, NULL)) goto error;

    if (opts) {
        if (opts->has_separable) {
            vips_object_set(VIPS_OBJECT(op), "separable", (gboolean)opts->separable, NULL);
        }
        if (opts->has_precision) {
            vips_object_set(VIPS_OBJECT(op), "precision", (int)opts->precision, NULL);
        }
    }

    if (vips_cache_operation_buildp(&op)) goto error;

    g_object_get(VIPS_OBJECT(op), "out", out_out, NULL);

    vips_object_unref_outputs(VIPS_OBJECT(op));
    g_object_unref(op);
    return 0;

error:
    vips_object_unref_outputs(VIPS_OBJECT(op));
    g_object_unref(op);
    return -1;
}

int gen_vips_gaussnoise(int width, int height, VipsImage ** out_out, GenGaussnoiseOpts *opts) {
    VipsOperation *op = vips_operation_new("gaussnoise");
    if (!op) return -1;

    if (vips_object_set(VIPS_OBJECT(op), "width", width, NULL)) goto error;
    if (vips_object_set(VIPS_OBJECT(op), "height", height, NULL)) goto error;

    if (opts) {
        if (opts->has_sigma) {
            vips_object_set(VIPS_OBJECT(op), "sigma", opts->sigma, NULL);
        }
        if (opts->has_mean) {
            vips_object_set(VIPS_OBJECT(op), "mean", opts->mean, NULL);
        }
        if (opts->has_seed) {
            vips_object_set(VIPS_OBJECT(op), "seed", opts->seed, NULL);
        }
    }

    if (vips_cache_operation_buildp(&op)) goto error;

    g_object_get(VIPS_OBJECT(op), "out", out_out, NULL);

    vips_object_unref_outputs(VIPS_OBJECT(op));
    g_object_unref(op);
    return 0;

error:
    vips_object_unref_outputs(VIPS_OBJECT(op));
    g_object_unref(op);
    return -1;
}

int gen_vips_grey(int width, int height, VipsImage ** out_out, GenGreyOpts *opts) {
    VipsOperation *op = vips_operation_new("grey");
    if (!op) return -1;

    if (vips_object_set(VIPS_OBJECT(op), "width", width, NULL)) goto error;
    if (vips_object_set(VIPS_OBJECT(op), "height", height, NULL)) goto error;

    if (opts) {
        if (opts->has_uchar) {
            vips_object_set(VIPS_OBJECT(op), "uchar", (gboolean)opts->uchar, NULL);
        }
    }

    if (vips_cache_operation_buildp(&op)) goto error;

    g_object_get(VIPS_OBJECT(op), "out", out_out, NULL);

    vips_object_unref_outputs(VIPS_OBJECT(op));
    g_object_unref(op);
    return 0;

error:
    vips_object_unref_outputs(VIPS_OBJECT(op));
    g_object_unref(op);
    return -1;
}

int gen_vips_identity(VipsImage ** out_out, GenIdentityOpts *opts) {
    VipsOperation *op = vips_operation_new("identity");
    if (!op) return -1;


    if (opts) {
        if (opts->has_bands) {
            vips_object_set(VIPS_OBJECT(op), "bands", opts->bands, NULL);
        }
        if (opts->has_ushort) {
            vips_object_set(VIPS_OBJECT(op), "ushort", (gboolean)opts->ushort, NULL);
        }
        if (opts->has_size) {
            vips_object_set(VIPS_OBJECT(op), "size", opts->size, NULL);
        }
    }

    if (vips_cache_operation_buildp(&op)) goto error;

    g_object_get(VIPS_OBJECT(op), "out", out_out, NULL);

    vips_object_unref_outputs(VIPS_OBJECT(op));
    g_object_unref(op);
    return 0;

error:
    vips_object_unref_outputs(VIPS_OBJECT(op));
    g_object_unref(op);
    return -1;
}

int gen_vips_invertlut(VipsImage * input, VipsImage ** out_out, GenInvertlutOpts *opts) {
    VipsOperation *op = vips_operation_new("invertlut");
    if (!op) return -1;

    if (vips_object_set(VIPS_OBJECT(op), "in", input, NULL)) goto error;

    if (opts) {
        if (opts->has_size) {
            vips_object_set(VIPS_OBJECT(op), "size", opts->size, NULL);
        }
    }

    if (vips_cache_operation_buildp(&op)) goto error;

    g_object_get(VIPS_OBJECT(op), "out", out_out, NULL);

    vips_object_unref_outputs(VIPS_OBJECT(op));
    g_object_unref(op);
    return 0;

error:
    vips_object_unref_outputs(VIPS_OBJECT(op));
    g_object_unref(op);
    return -1;
}

int gen_vips_logmat(double sigma, double minAmpl, VipsImage ** out_out, GenLogmatOpts *opts) {
    VipsOperation *op = vips_operation_new("logmat");
    if (!op) return -1;

    if (vips_object_set(VIPS_OBJECT(op), "sigma", sigma, NULL)) goto error;
    if (vips_object_set(VIPS_OBJECT(op), "min-ampl", minAmpl, NULL)) goto error;

    if (opts) {
        if (opts->has_separable) {
            vips_object_set(VIPS_OBJECT(op), "separable", (gboolean)opts->separable, NULL);
        }
        if (opts->has_precision) {
            vips_object_set(VIPS_OBJECT(op), "precision", (int)opts->precision, NULL);
        }
    }

    if (vips_cache_operation_buildp(&op)) goto error;

    g_object_get(VIPS_OBJECT(op), "out", out_out, NULL);

    vips_object_unref_outputs(VIPS_OBJECT(op));
    g_object_unref(op);
    return 0;

error:
    vips_object_unref_outputs(VIPS_OBJECT(op));
    g_object_unref(op);
    return -1;
}

int gen_vips_mask_butterworth(int width, int height, double order, double frequencyCutoff, double amplitudeCutoff, VipsImage ** out_out, GenMaskButterworthOpts *opts) {
    VipsOperation *op = vips_operation_new("mask_butterworth");
    if (!op) return -1;

    if (vips_object_set(VIPS_OBJECT(op), "width", width, NULL)) goto error;
    if (vips_object_set(VIPS_OBJECT(op), "height", height, NULL)) goto error;
    if (vips_object_set(VIPS_OBJECT(op), "order", order, NULL)) goto error;
    if (vips_object_set(VIPS_OBJECT(op), "frequency-cutoff", frequencyCutoff, NULL)) goto error;
    if (vips_object_set(VIPS_OBJECT(op), "amplitude-cutoff", amplitudeCutoff, NULL)) goto error;

    if (opts) {
        if (opts->has_uchar) {
            vips_object_set(VIPS_OBJECT(op), "uchar", (gboolean)opts->uchar, NULL);
        }
        if (opts->has_nodc) {
            vips_object_set(VIPS_OBJECT(op), "nodc", (gboolean)opts->nodc, NULL);
        }
        if (opts->has_reject) {
            vips_object_set(VIPS_OBJECT(op), "reject", (gboolean)opts->reject, NULL);
        }
        if (opts->has_optical) {
            vips_object_set(VIPS_OBJECT(op), "optical", (gboolean)opts->optical, NULL);
        }
    }

    if (vips_cache_operation_buildp(&op)) goto error;

    g_object_get(VIPS_OBJECT(op), "out", out_out, NULL);

    vips_object_unref_outputs(VIPS_OBJECT(op));
    g_object_unref(op);
    return 0;

error:
    vips_object_unref_outputs(VIPS_OBJECT(op));
    g_object_unref(op);
    return -1;
}

int gen_vips_mask_butterworth_band(int width, int height, double order, double frequencyCutoffX, double frequencyCutoffY, double radius, double amplitudeCutoff, VipsImage ** out_out, GenMaskButterworthBandOpts *opts) {
    VipsOperation *op = vips_operation_new("mask_butterworth_band");
    if (!op) return -1;

    if (vips_object_set(VIPS_OBJECT(op), "width", width, NULL)) goto error;
    if (vips_object_set(VIPS_OBJECT(op), "height", height, NULL)) goto error;
    if (vips_object_set(VIPS_OBJECT(op), "order", order, NULL)) goto error;
    if (vips_object_set(VIPS_OBJECT(op), "frequency-cutoff-x", frequencyCutoffX, NULL)) goto error;
    if (vips_object_set(VIPS_OBJECT(op), "frequency-cutoff-y", frequencyCutoffY, NULL)) goto error;
    if (vips_object_set(VIPS_OBJECT(op), "radius", radius, NULL)) goto error;
    if (vips_object_set(VIPS_OBJECT(op), "amplitude-cutoff", amplitudeCutoff, NULL)) goto error;

    if (opts) {
        if (opts->has_uchar) {
            vips_object_set(VIPS_OBJECT(op), "uchar", (gboolean)opts->uchar, NULL);
        }
        if (opts->has_nodc) {
            vips_object_set(VIPS_OBJECT(op), "nodc", (gboolean)opts->nodc, NULL);
        }
        if (opts->has_reject) {
            vips_object_set(VIPS_OBJECT(op), "reject", (gboolean)opts->reject, NULL);
        }
        if (opts->has_optical) {
            vips_object_set(VIPS_OBJECT(op), "optical", (gboolean)opts->optical, NULL);
        }
    }

    if (vips_cache_operation_buildp(&op)) goto error;

    g_object_get(VIPS_OBJECT(op), "out", out_out, NULL);

    vips_object_unref_outputs(VIPS_OBJECT(op));
    g_object_unref(op);
    return 0;

error:
    vips_object_unref_outputs(VIPS_OBJECT(op));
    g_object_unref(op);
    return -1;
}

int gen_vips_mask_butterworth_ring(int width, int height, double order, double frequencyCutoff, double amplitudeCutoff, double ringwidth, VipsImage ** out_out, GenMaskButterworthRingOpts *opts) {
    VipsOperation *op = vips_operation_new("mask_butterworth_ring");
    if (!op) return -1;

    if (vips_object_set(VIPS_OBJECT(op), "width", width, NULL)) goto error;
    if (vips_object_set(VIPS_OBJECT(op), "height", height, NULL)) goto error;
    if (vips_object_set(VIPS_OBJECT(op), "order", order, NULL)) goto error;
    if (vips_object_set(VIPS_OBJECT(op), "frequency-cutoff", frequencyCutoff, NULL)) goto error;
    if (vips_object_set(VIPS_OBJECT(op), "amplitude-cutoff", amplitudeCutoff, NULL)) goto error;
    if (vips_object_set(VIPS_OBJECT(op), "ringwidth", ringwidth, NULL)) goto error;

    if (opts) {
        if (opts->has_uchar) {
            vips_object_set(VIPS_OBJECT(op), "uchar", (gboolean)opts->uchar, NULL);
        }
        if (opts->has_nodc) {
            vips_object_set(VIPS_OBJECT(op), "nodc", (gboolean)opts->nodc, NULL);
        }
        if (opts->has_reject) {
            vips_object_set(VIPS_OBJECT(op), "reject", (gboolean)opts->reject, NULL);
        }
        if (opts->has_optical) {
            vips_object_set(VIPS_OBJECT(op), "optical", (gboolean)opts->optical, NULL);
        }
    }

    if (vips_cache_operation_buildp(&op)) goto error;

    g_object_get(VIPS_OBJECT(op), "out", out_out, NULL);

    vips_object_unref_outputs(VIPS_OBJECT(op));
    g_object_unref(op);
    return 0;

error:
    vips_object_unref_outputs(VIPS_OBJECT(op));
    g_object_unref(op);
    return -1;
}

int gen_vips_mask_fractal(int width, int height, double fractalDimension, VipsImage ** out_out, GenMaskFractalOpts *opts) {
    VipsOperation *op = vips_operation_new("mask_fractal");
    if (!op) return -1;

    if (vips_object_set(VIPS_OBJECT(op), "width", width, NULL)) goto error;
    if (vips_object_set(VIPS_OBJECT(op), "height", height, NULL)) goto error;
    if (vips_object_set(VIPS_OBJECT(op), "fractal-dimension", fractalDimension, NULL)) goto error;

    if (opts) {
        if (opts->has_uchar) {
            vips_object_set(VIPS_OBJECT(op), "uchar", (gboolean)opts->uchar, NULL);
        }
        if (opts->has_nodc) {
            vips_object_set(VIPS_OBJECT(op), "nodc", (gboolean)opts->nodc, NULL);
        }
        if (opts->has_reject) {
            vips_object_set(VIPS_OBJECT(op), "reject", (gboolean)opts->reject, NULL);
        }
        if (opts->has_optical) {
            vips_object_set(VIPS_OBJECT(op), "optical", (gboolean)opts->optical, NULL);
        }
    }

    if (vips_cache_operation_buildp(&op)) goto error;

    g_object_get(VIPS_OBJECT(op), "out", out_out, NULL);

    vips_object_unref_outputs(VIPS_OBJECT(op));
    g_object_unref(op);
    return 0;

error:
    vips_object_unref_outputs(VIPS_OBJECT(op));
    g_object_unref(op);
    return -1;
}

int gen_vips_mask_gaussian(int width, int height, double frequencyCutoff, double amplitudeCutoff, VipsImage ** out_out, GenMaskGaussianOpts *opts) {
    VipsOperation *op = vips_operation_new("mask_gaussian");
    if (!op) return -1;

    if (vips_object_set(VIPS_OBJECT(op), "width", width, NULL)) goto error;
    if (vips_object_set(VIPS_OBJECT(op), "height", height, NULL)) goto error;
    if (vips_object_set(VIPS_OBJECT(op), "frequency-cutoff", frequencyCutoff, NULL)) goto error;
    if (vips_object_set(VIPS_OBJECT(op), "amplitude-cutoff", amplitudeCutoff, NULL)) goto error;

    if (opts) {
        if (opts->has_uchar) {
            vips_object_set(VIPS_OBJECT(op), "uchar", (gboolean)opts->uchar, NULL);
        }
        if (opts->has_nodc) {
            vips_object_set(VIPS_OBJECT(op), "nodc", (gboolean)opts->nodc, NULL);
        }
        if (opts->has_reject) {
            vips_object_set(VIPS_OBJECT(op), "reject", (gboolean)opts->reject, NULL);
        }
        if (opts->has_optical) {
            vips_object_set(VIPS_OBJECT(op), "optical", (gboolean)opts->optical, NULL);
        }
    }

    if (vips_cache_operation_buildp(&op)) goto error;

    g_object_get(VIPS_OBJECT(op), "out", out_out, NULL);

    vips_object_unref_outputs(VIPS_OBJECT(op));
    g_object_unref(op);
    return 0;

error:
    vips_object_unref_outputs(VIPS_OBJECT(op));
    g_object_unref(op);
    return -1;
}

int gen_vips_mask_gaussian_band(int width, int height, double frequencyCutoffX, double frequencyCutoffY, double radius, double amplitudeCutoff, VipsImage ** out_out, GenMaskGaussianBandOpts *opts) {
    VipsOperation *op = vips_operation_new("mask_gaussian_band");
    if (!op) return -1;

    if (vips_object_set(VIPS_OBJECT(op), "width", width, NULL)) goto error;
    if (vips_object_set(VIPS_OBJECT(op), "height", height, NULL)) goto error;
    if (vips_object_set(VIPS_OBJECT(op), "frequency-cutoff-x", frequencyCutoffX, NULL)) goto error;
    if (vips_object_set(VIPS_OBJECT(op), "frequency-cutoff-y", frequencyCutoffY, NULL)) goto error;
    if (vips_object_set(VIPS_OBJECT(op), "radius", radius, NULL)) goto error;
    if (vips_object_set(VIPS_OBJECT(op), "amplitude-cutoff", amplitudeCutoff, NULL)) goto error;

    if (opts) {
        if (opts->has_uchar) {
            vips_object_set(VIPS_OBJECT(op), "uchar", (gboolean)opts->uchar, NULL);
        }
        if (opts->has_nodc) {
            vips_object_set(VIPS_OBJECT(op), "nodc", (gboolean)opts->nodc, NULL);
        }
        if (opts->has_reject) {
            vips_object_set(VIPS_OBJECT(op), "reject", (gboolean)opts->reject, NULL);
        }
        if (opts->has_optical) {
            vips_object_set(VIPS_OBJECT(op), "optical", (gboolean)opts->optical, NULL);
        }
    }

    if (vips_cache_operation_buildp(&op)) goto error;

    g_object_get(VIPS_OBJECT(op), "out", out_out, NULL);

    vips_object_unref_outputs(VIPS_OBJECT(op));
    g_object_unref(op);
    return 0;

error:
    vips_object_unref_outputs(VIPS_OBJECT(op));
    g_object_unref(op);
    return -1;
}

int gen_vips_mask_gaussian_ring(int width, int height, double frequencyCutoff, double amplitudeCutoff, double ringwidth, VipsImage ** out_out, GenMaskGaussianRingOpts *opts) {
    VipsOperation *op = vips_operation_new("mask_gaussian_ring");
    if (!op) return -1;

    if (vips_object_set(VIPS_OBJECT(op), "width", width, NULL)) goto error;
    if (vips_object_set(VIPS_OBJECT(op), "height", height, NULL)) goto error;
    if (vips_object_set(VIPS_OBJECT(op), "frequency-cutoff", frequencyCutoff, NULL)) goto error;
    if (vips_object_set(VIPS_OBJECT(op), "amplitude-cutoff", amplitudeCutoff, NULL)) goto error;
    if (vips_object_set(VIPS_OBJECT(op), "ringwidth", ringwidth, NULL)) goto error;

    if (opts) {
        if (opts->has_uchar) {
            vips_object_set(VIPS_OBJECT(op), "uchar", (gboolean)opts->uchar, NULL);
        }
        if (opts->has_nodc) {
            vips_object_set(VIPS_OBJECT(op), "nodc", (gboolean)opts->nodc, NULL);
        }
        if (opts->has_reject) {
            vips_object_set(VIPS_OBJECT(op), "reject", (gboolean)opts->reject, NULL);
        }
        if (opts->has_optical) {
            vips_object_set(VIPS_OBJECT(op), "optical", (gboolean)opts->optical, NULL);
        }
    }

    if (vips_cache_operation_buildp(&op)) goto error;

    g_object_get(VIPS_OBJECT(op), "out", out_out, NULL);

    vips_object_unref_outputs(VIPS_OBJECT(op));
    g_object_unref(op);
    return 0;

error:
    vips_object_unref_outputs(VIPS_OBJECT(op));
    g_object_unref(op);
    return -1;
}

int gen_vips_mask_ideal(int width, int height, double frequencyCutoff, VipsImage ** out_out, GenMaskIdealOpts *opts) {
    VipsOperation *op = vips_operation_new("mask_ideal");
    if (!op) return -1;

    if (vips_object_set(VIPS_OBJECT(op), "width", width, NULL)) goto error;
    if (vips_object_set(VIPS_OBJECT(op), "height", height, NULL)) goto error;
    if (vips_object_set(VIPS_OBJECT(op), "frequency-cutoff", frequencyCutoff, NULL)) goto error;

    if (opts) {
        if (opts->has_uchar) {
            vips_object_set(VIPS_OBJECT(op), "uchar", (gboolean)opts->uchar, NULL);
        }
        if (opts->has_nodc) {
            vips_object_set(VIPS_OBJECT(op), "nodc", (gboolean)opts->nodc, NULL);
        }
        if (opts->has_reject) {
            vips_object_set(VIPS_OBJECT(op), "reject", (gboolean)opts->reject, NULL);
        }
        if (opts->has_optical) {
            vips_object_set(VIPS_OBJECT(op), "optical", (gboolean)opts->optical, NULL);
        }
    }

    if (vips_cache_operation_buildp(&op)) goto error;

    g_object_get(VIPS_OBJECT(op), "out", out_out, NULL);

    vips_object_unref_outputs(VIPS_OBJECT(op));
    g_object_unref(op);
    return 0;

error:
    vips_object_unref_outputs(VIPS_OBJECT(op));
    g_object_unref(op);
    return -1;
}

int gen_vips_mask_ideal_band(int width, int height, double frequencyCutoffX, double frequencyCutoffY, double radius, VipsImage ** out_out, GenMaskIdealBandOpts *opts) {
    VipsOperation *op = vips_operation_new("mask_ideal_band");
    if (!op) return -1;

    if (vips_object_set(VIPS_OBJECT(op), "width", width, NULL)) goto error;
    if (vips_object_set(VIPS_OBJECT(op), "height", height, NULL)) goto error;
    if (vips_object_set(VIPS_OBJECT(op), "frequency-cutoff-x", frequencyCutoffX, NULL)) goto error;
    if (vips_object_set(VIPS_OBJECT(op), "frequency-cutoff-y", frequencyCutoffY, NULL)) goto error;
    if (vips_object_set(VIPS_OBJECT(op), "radius", radius, NULL)) goto error;

    if (opts) {
        if (opts->has_uchar) {
            vips_object_set(VIPS_OBJECT(op), "uchar", (gboolean)opts->uchar, NULL);
        }
        if (opts->has_nodc) {
            vips_object_set(VIPS_OBJECT(op), "nodc", (gboolean)opts->nodc, NULL);
        }
        if (opts->has_reject) {
            vips_object_set(VIPS_OBJECT(op), "reject", (gboolean)opts->reject, NULL);
        }
        if (opts->has_optical) {
            vips_object_set(VIPS_OBJECT(op), "optical", (gboolean)opts->optical, NULL);
        }
    }

    if (vips_cache_operation_buildp(&op)) goto error;

    g_object_get(VIPS_OBJECT(op), "out", out_out, NULL);

    vips_object_unref_outputs(VIPS_OBJECT(op));
    g_object_unref(op);
    return 0;

error:
    vips_object_unref_outputs(VIPS_OBJECT(op));
    g_object_unref(op);
    return -1;
}

int gen_vips_mask_ideal_ring(int width, int height, double frequencyCutoff, double ringwidth, VipsImage ** out_out, GenMaskIdealRingOpts *opts) {
    VipsOperation *op = vips_operation_new("mask_ideal_ring");
    if (!op) return -1;

    if (vips_object_set(VIPS_OBJECT(op), "width", width, NULL)) goto error;
    if (vips_object_set(VIPS_OBJECT(op), "height", height, NULL)) goto error;
    if (vips_object_set(VIPS_OBJECT(op), "frequency-cutoff", frequencyCutoff, NULL)) goto error;
    if (vips_object_set(VIPS_OBJECT(op), "ringwidth", ringwidth, NULL)) goto error;

    if (opts) {
        if (opts->has_uchar) {
            vips_object_set(VIPS_OBJECT(op), "uchar", (gboolean)opts->uchar, NULL);
        }
        if (opts->has_nodc) {
            vips_object_set(VIPS_OBJECT(op), "nodc", (gboolean)opts->nodc, NULL);
        }
        if (opts->has_reject) {
            vips_object_set(VIPS_OBJECT(op), "reject", (gboolean)opts->reject, NULL);
        }
        if (opts->has_optical) {
            vips_object_set(VIPS_OBJECT(op), "optical", (gboolean)opts->optical, NULL);
        }
    }

    if (vips_cache_operation_buildp(&op)) goto error;

    g_object_get(VIPS_OBJECT(op), "out", out_out, NULL);

    vips_object_unref_outputs(VIPS_OBJECT(op));
    g_object_unref(op);
    return 0;

error:
    vips_object_unref_outputs(VIPS_OBJECT(op));
    g_object_unref(op);
    return -1;
}

int gen_vips_perlin(int width, int height, VipsImage ** out_out, GenPerlinOpts *opts) {
    VipsOperation *op = vips_operation_new("perlin");
    if (!op) return -1;

    if (vips_object_set(VIPS_OBJECT(op), "width", width, NULL)) goto error;
    if (vips_object_set(VIPS_OBJECT(op), "height", height, NULL)) goto error;

    if (opts) {
        if (opts->has_cellSize) {
            vips_object_set(VIPS_OBJECT(op), "cell-size", opts->cellSize, NULL);
        }
        if (opts->has_uchar) {
            vips_object_set(VIPS_OBJECT(op), "uchar", (gboolean)opts->uchar, NULL);
        }
        if (opts->has_seed) {
            vips_object_set(VIPS_OBJECT(op), "seed", opts->seed, NULL);
        }
    }

    if (vips_cache_operation_buildp(&op)) goto error;

    g_object_get(VIPS_OBJECT(op), "out", out_out, NULL);

    vips_object_unref_outputs(VIPS_OBJECT(op));
    g_object_unref(op);
    return 0;

error:
    vips_object_unref_outputs(VIPS_OBJECT(op));
    g_object_unref(op);
    return -1;
}

int gen_vips_sines(int width, int height, VipsImage ** out_out, GenSinesOpts *opts) {
    VipsOperation *op = vips_operation_new("sines");
    if (!op) return -1;

    if (vips_object_set(VIPS_OBJECT(op), "width", width, NULL)) goto error;
    if (vips_object_set(VIPS_OBJECT(op), "height", height, NULL)) goto error;

    if (opts) {
        if (opts->has_uchar) {
            vips_object_set(VIPS_OBJECT(op), "uchar", (gboolean)opts->uchar, NULL);
        }
        if (opts->has_hfreq) {
            vips_object_set(VIPS_OBJECT(op), "hfreq", opts->hfreq, NULL);
        }
        if (opts->has_vfreq) {
            vips_object_set(VIPS_OBJECT(op), "vfreq", opts->vfreq, NULL);
        }
    }

    if (vips_cache_operation_buildp(&op)) goto error;

    g_object_get(VIPS_OBJECT(op), "out", out_out, NULL);

    vips_object_unref_outputs(VIPS_OBJECT(op));
    g_object_unref(op);
    return 0;

error:
    vips_object_unref_outputs(VIPS_OBJECT(op));
    g_object_unref(op);
    return -1;
}

int gen_vips_tonelut(VipsImage ** out_out, GenTonelutOpts *opts) {
    VipsOperation *op = vips_operation_new("tonelut");
    if (!op) return -1;


    if (opts) {
        if (opts->has_inMax) {
            vips_object_set(VIPS_OBJECT(op), "in-max", opts->inMax, NULL);
        }
        if (opts->has_outMax) {
            vips_object_set(VIPS_OBJECT(op), "out-max", opts->outMax, NULL);
        }
        if (opts->has_Lb) {
            vips_object_set(VIPS_OBJECT(op), "Lb", opts->Lb, NULL);
        }
        if (opts->has_Lw) {
            vips_object_set(VIPS_OBJECT(op), "Lw", opts->Lw, NULL);
        }
        if (opts->has_Ps) {
            vips_object_set(VIPS_OBJECT(op), "Ps", opts->Ps, NULL);
        }
        if (opts->has_Pm) {
            vips_object_set(VIPS_OBJECT(op), "Pm", opts->Pm, NULL);
        }
        if (opts->has_Ph) {
            vips_object_set(VIPS_OBJECT(op), "Ph", opts->Ph, NULL);
        }
        if (opts->has_S) {
            vips_object_set(VIPS_OBJECT(op), "S", opts->S, NULL);
        }
        if (opts->has_M) {
            vips_object_set(VIPS_OBJECT(op), "M", opts->M, NULL);
        }
        if (opts->has_H) {
            vips_object_set(VIPS_OBJECT(op), "H", opts->H, NULL);
        }
    }

    if (vips_cache_operation_buildp(&op)) goto error;

    g_object_get(VIPS_OBJECT(op), "out", out_out, NULL);

    vips_object_unref_outputs(VIPS_OBJECT(op));
    g_object_unref(op);
    return 0;

error:
    vips_object_unref_outputs(VIPS_OBJECT(op));
    g_object_unref(op);
    return -1;
}

int gen_vips_worley(int width, int height, VipsImage ** out_out, GenWorleyOpts *opts) {
    VipsOperation *op = vips_operation_new("worley");
    if (!op) return -1;

    if (vips_object_set(VIPS_OBJECT(op), "width", width, NULL)) goto error;
    if (vips_object_set(VIPS_OBJECT(op), "height", height, NULL)) goto error;

    if (opts) {
        if (opts->has_cellSize) {
            vips_object_set(VIPS_OBJECT(op), "cell-size", opts->cellSize, NULL);
        }
        if (opts->has_seed) {
            vips_object_set(VIPS_OBJECT(op), "seed", opts->seed, NULL);
        }
    }

    if (vips_cache_operation_buildp(&op)) goto error;

    g_object_get(VIPS_OBJECT(op), "out", out_out, NULL);

    vips_object_unref_outputs(VIPS_OBJECT(op));
    g_object_unref(op);
    return 0;

error:
    vips_object_unref_outputs(VIPS_OBJECT(op));
    g_object_unref(op);
    return -1;
}

int gen_vips_xyz(int width, int height, VipsImage ** out_out, GenXyzOpts *opts) {
    VipsOperation *op = vips_operation_new("xyz");
    if (!op) return -1;

    if (vips_object_set(VIPS_OBJECT(op), "width", width, NULL)) goto error;
    if (vips_object_set(VIPS_OBJECT(op), "height", height, NULL)) goto error;

    if (opts) {
        if (opts->has_csize) {
            vips_object_set(VIPS_OBJECT(op), "csize", opts->csize, NULL);
        }
        if (opts->has_dsize) {
            vips_object_set(VIPS_OBJECT(op), "dsize", opts->dsize, NULL);
        }
        if (opts->has_esize) {
            vips_object_set(VIPS_OBJECT(op), "esize", opts->esize, NULL);
        }
    }

    if (vips_cache_operation_buildp(&op)) goto error;

    g_object_get(VIPS_OBJECT(op), "out", out_out, NULL);

    vips_object_unref_outputs(VIPS_OBJECT(op));
    g_object_unref(op);
    return 0;

error:
    vips_object_unref_outputs(VIPS_OBJECT(op));
    g_object_unref(op);
    return -1;
}

int gen_vips_zone(int width, int height, VipsImage ** out_out, GenZoneOpts *opts) {
    VipsOperation *op = vips_operation_new("zone");
    if (!op) return -1;

    if (vips_object_set(VIPS_OBJECT(op), "width", width, NULL)) goto error;
    if (vips_object_set(VIPS_OBJECT(op), "height", height, NULL)) goto error;

    if (opts) {
        if (opts->has_uchar) {
            vips_object_set(VIPS_OBJECT(op), "uchar", (gboolean)opts->uchar, NULL);
        }
    }

    if (vips_cache_operation_buildp(&op)) goto error;

    g_object_get(VIPS_OBJECT(op), "out", out_out, NULL);

    vips_object_unref_outputs(VIPS_OBJECT(op));
    g_object_unref(op);
    return 0;

error:
    vips_object_unref_outputs(VIPS_OBJECT(op));
    g_object_unref(op);
    return -1;
}

