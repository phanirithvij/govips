// Code generated by vipsgen. DO NOT EDIT.
#include "gen_convolution.h"

int gen_vips_canny(VipsImage * input, VipsImage ** out_out, GenCannyOpts *opts) {
    VipsOperation *op = vips_operation_new("canny");
    if (!op) return -1;

    if (vips_object_set(VIPS_OBJECT(op), "in", input, NULL)) goto error;

    if (opts) {
        if (opts->has_sigma) {
            vips_object_set(VIPS_OBJECT(op), "sigma", opts->sigma, NULL);
        }
        if (opts->has_precision) {
            vips_object_set(VIPS_OBJECT(op), "precision", (int)opts->precision, NULL);
        }
    }

    if (vips_cache_operation_buildp(&op)) goto error;

    g_object_get(VIPS_OBJECT(op), "out", out_out, NULL);

    vips_object_unref_outputs(VIPS_OBJECT(op));
    g_object_unref(op);
    return 0;

error:
    vips_object_unref_outputs(VIPS_OBJECT(op));
    g_object_unref(op);
    return -1;
}

int gen_vips_compass(VipsImage * input, VipsImage * mask, VipsImage ** out_out, GenCompassOpts *opts) {
    VipsOperation *op = vips_operation_new("compass");
    if (!op) return -1;

    if (vips_object_set(VIPS_OBJECT(op), "in", input, NULL)) goto error;
    if (vips_object_set(VIPS_OBJECT(op), "mask", mask, NULL)) goto error;

    if (opts) {
        if (opts->has_times) {
            vips_object_set(VIPS_OBJECT(op), "times", opts->times, NULL);
        }
        if (opts->has_angle) {
            vips_object_set(VIPS_OBJECT(op), "angle", (int)opts->angle, NULL);
        }
        if (opts->has_combine) {
            vips_object_set(VIPS_OBJECT(op), "combine", (int)opts->combine, NULL);
        }
        if (opts->has_precision) {
            vips_object_set(VIPS_OBJECT(op), "precision", (int)opts->precision, NULL);
        }
        if (opts->has_layers) {
            vips_object_set(VIPS_OBJECT(op), "layers", opts->layers, NULL);
        }
        if (opts->has_cluster) {
            vips_object_set(VIPS_OBJECT(op), "cluster", opts->cluster, NULL);
        }
    }

    if (vips_cache_operation_buildp(&op)) goto error;

    g_object_get(VIPS_OBJECT(op), "out", out_out, NULL);

    vips_object_unref_outputs(VIPS_OBJECT(op));
    g_object_unref(op);
    return 0;

error:
    vips_object_unref_outputs(VIPS_OBJECT(op));
    g_object_unref(op);
    return -1;
}

int gen_vips_conv(VipsImage * input, VipsImage * mask, VipsImage ** out_out, GenConvOpts *opts) {
    VipsOperation *op = vips_operation_new("conv");
    if (!op) return -1;

    if (vips_object_set(VIPS_OBJECT(op), "in", input, NULL)) goto error;
    if (vips_object_set(VIPS_OBJECT(op), "mask", mask, NULL)) goto error;

    if (opts) {
        if (opts->has_precision) {
            vips_object_set(VIPS_OBJECT(op), "precision", (int)opts->precision, NULL);
        }
        if (opts->has_layers) {
            vips_object_set(VIPS_OBJECT(op), "layers", opts->layers, NULL);
        }
        if (opts->has_cluster) {
            vips_object_set(VIPS_OBJECT(op), "cluster", opts->cluster, NULL);
        }
    }

    if (vips_cache_operation_buildp(&op)) goto error;

    g_object_get(VIPS_OBJECT(op), "out", out_out, NULL);

    vips_object_unref_outputs(VIPS_OBJECT(op));
    g_object_unref(op);
    return 0;

error:
    vips_object_unref_outputs(VIPS_OBJECT(op));
    g_object_unref(op);
    return -1;
}

int gen_vips_conva(VipsImage * input, VipsImage * mask, VipsImage ** out_out, GenConvaOpts *opts) {
    VipsOperation *op = vips_operation_new("conva");
    if (!op) return -1;

    if (vips_object_set(VIPS_OBJECT(op), "in", input, NULL)) goto error;
    if (vips_object_set(VIPS_OBJECT(op), "mask", mask, NULL)) goto error;

    if (opts) {
        if (opts->has_layers) {
            vips_object_set(VIPS_OBJECT(op), "layers", opts->layers, NULL);
        }
        if (opts->has_cluster) {
            vips_object_set(VIPS_OBJECT(op), "cluster", opts->cluster, NULL);
        }
    }

    if (vips_cache_operation_buildp(&op)) goto error;

    g_object_get(VIPS_OBJECT(op), "out", out_out, NULL);

    vips_object_unref_outputs(VIPS_OBJECT(op));
    g_object_unref(op);
    return 0;

error:
    vips_object_unref_outputs(VIPS_OBJECT(op));
    g_object_unref(op);
    return -1;
}

int gen_vips_convasep(VipsImage * input, VipsImage * mask, VipsImage ** out_out, GenConvasepOpts *opts) {
    VipsOperation *op = vips_operation_new("convasep");
    if (!op) return -1;

    if (vips_object_set(VIPS_OBJECT(op), "in", input, NULL)) goto error;
    if (vips_object_set(VIPS_OBJECT(op), "mask", mask, NULL)) goto error;

    if (opts) {
        if (opts->has_layers) {
            vips_object_set(VIPS_OBJECT(op), "layers", opts->layers, NULL);
        }
    }

    if (vips_cache_operation_buildp(&op)) goto error;

    g_object_get(VIPS_OBJECT(op), "out", out_out, NULL);

    vips_object_unref_outputs(VIPS_OBJECT(op));
    g_object_unref(op);
    return 0;

error:
    vips_object_unref_outputs(VIPS_OBJECT(op));
    g_object_unref(op);
    return -1;
}

int gen_vips_convf(VipsImage * input, VipsImage * mask, VipsImage ** out_out) {
    VipsOperation *op = vips_operation_new("convf");
    if (!op) return -1;

    if (vips_object_set(VIPS_OBJECT(op), "in", input, NULL)) goto error;
    if (vips_object_set(VIPS_OBJECT(op), "mask", mask, NULL)) goto error;

    if (vips_cache_operation_buildp(&op)) goto error;

    g_object_get(VIPS_OBJECT(op), "out", out_out, NULL);

    vips_object_unref_outputs(VIPS_OBJECT(op));
    g_object_unref(op);
    return 0;

error:
    vips_object_unref_outputs(VIPS_OBJECT(op));
    g_object_unref(op);
    return -1;
}

int gen_vips_convi(VipsImage * input, VipsImage * mask, VipsImage ** out_out) {
    VipsOperation *op = vips_operation_new("convi");
    if (!op) return -1;

    if (vips_object_set(VIPS_OBJECT(op), "in", input, NULL)) goto error;
    if (vips_object_set(VIPS_OBJECT(op), "mask", mask, NULL)) goto error;

    if (vips_cache_operation_buildp(&op)) goto error;

    g_object_get(VIPS_OBJECT(op), "out", out_out, NULL);

    vips_object_unref_outputs(VIPS_OBJECT(op));
    g_object_unref(op);
    return 0;

error:
    vips_object_unref_outputs(VIPS_OBJECT(op));
    g_object_unref(op);
    return -1;
}

int gen_vips_convsep(VipsImage * input, VipsImage * mask, VipsImage ** out_out, GenConvsepOpts *opts) {
    VipsOperation *op = vips_operation_new("convsep");
    if (!op) return -1;

    if (vips_object_set(VIPS_OBJECT(op), "in", input, NULL)) goto error;
    if (vips_object_set(VIPS_OBJECT(op), "mask", mask, NULL)) goto error;

    if (opts) {
        if (opts->has_precision) {
            vips_object_set(VIPS_OBJECT(op), "precision", (int)opts->precision, NULL);
        }
        if (opts->has_layers) {
            vips_object_set(VIPS_OBJECT(op), "layers", opts->layers, NULL);
        }
        if (opts->has_cluster) {
            vips_object_set(VIPS_OBJECT(op), "cluster", opts->cluster, NULL);
        }
    }

    if (vips_cache_operation_buildp(&op)) goto error;

    g_object_get(VIPS_OBJECT(op), "out", out_out, NULL);

    vips_object_unref_outputs(VIPS_OBJECT(op));
    g_object_unref(op);
    return 0;

error:
    vips_object_unref_outputs(VIPS_OBJECT(op));
    g_object_unref(op);
    return -1;
}

int gen_vips_fastcor(VipsImage * input, VipsImage * ref, VipsImage ** out_out) {
    VipsOperation *op = vips_operation_new("fastcor");
    if (!op) return -1;

    if (vips_object_set(VIPS_OBJECT(op), "in", input, NULL)) goto error;
    if (vips_object_set(VIPS_OBJECT(op), "ref", ref, NULL)) goto error;

    if (vips_cache_operation_buildp(&op)) goto error;

    g_object_get(VIPS_OBJECT(op), "out", out_out, NULL);

    vips_object_unref_outputs(VIPS_OBJECT(op));
    g_object_unref(op);
    return 0;

error:
    vips_object_unref_outputs(VIPS_OBJECT(op));
    g_object_unref(op);
    return -1;
}

int gen_vips_gaussblur(VipsImage * input, double sigma, VipsImage ** out_out, GenGaussblurOpts *opts) {
    VipsOperation *op = vips_operation_new("gaussblur");
    if (!op) return -1;

    if (vips_object_set(VIPS_OBJECT(op), "in", input, NULL)) goto error;
    if (vips_object_set(VIPS_OBJECT(op), "sigma", sigma, NULL)) goto error;

    if (opts) {
        if (opts->has_minAmpl) {
            vips_object_set(VIPS_OBJECT(op), "min-ampl", opts->minAmpl, NULL);
        }
        if (opts->has_precision) {
            vips_object_set(VIPS_OBJECT(op), "precision", (int)opts->precision, NULL);
        }
    }

    if (vips_cache_operation_buildp(&op)) goto error;

    g_object_get(VIPS_OBJECT(op), "out", out_out, NULL);

    vips_object_unref_outputs(VIPS_OBJECT(op));
    g_object_unref(op);
    return 0;

error:
    vips_object_unref_outputs(VIPS_OBJECT(op));
    g_object_unref(op);
    return -1;
}

int gen_vips_prewitt(VipsImage * input, VipsImage ** out_out) {
    VipsOperation *op = vips_operation_new("prewitt");
    if (!op) return -1;

    if (vips_object_set(VIPS_OBJECT(op), "in", input, NULL)) goto error;

    if (vips_cache_operation_buildp(&op)) goto error;

    g_object_get(VIPS_OBJECT(op), "out", out_out, NULL);

    vips_object_unref_outputs(VIPS_OBJECT(op));
    g_object_unref(op);
    return 0;

error:
    vips_object_unref_outputs(VIPS_OBJECT(op));
    g_object_unref(op);
    return -1;
}

int gen_vips_scharr(VipsImage * input, VipsImage ** out_out) {
    VipsOperation *op = vips_operation_new("scharr");
    if (!op) return -1;

    if (vips_object_set(VIPS_OBJECT(op), "in", input, NULL)) goto error;

    if (vips_cache_operation_buildp(&op)) goto error;

    g_object_get(VIPS_OBJECT(op), "out", out_out, NULL);

    vips_object_unref_outputs(VIPS_OBJECT(op));
    g_object_unref(op);
    return 0;

error:
    vips_object_unref_outputs(VIPS_OBJECT(op));
    g_object_unref(op);
    return -1;
}

int gen_vips_sharpen(VipsImage * input, VipsImage ** out_out, GenSharpenOpts *opts) {
    VipsOperation *op = vips_operation_new("sharpen");
    if (!op) return -1;

    if (vips_object_set(VIPS_OBJECT(op), "in", input, NULL)) goto error;

    if (opts) {
        if (opts->has_sigma) {
            vips_object_set(VIPS_OBJECT(op), "sigma", opts->sigma, NULL);
        }
        if (opts->has_x1) {
            vips_object_set(VIPS_OBJECT(op), "x1", opts->x1, NULL);
        }
        if (opts->has_y2) {
            vips_object_set(VIPS_OBJECT(op), "y2", opts->y2, NULL);
        }
        if (opts->has_y3) {
            vips_object_set(VIPS_OBJECT(op), "y3", opts->y3, NULL);
        }
        if (opts->has_m1) {
            vips_object_set(VIPS_OBJECT(op), "m1", opts->m1, NULL);
        }
        if (opts->has_m2) {
            vips_object_set(VIPS_OBJECT(op), "m2", opts->m2, NULL);
        }
    }

    if (vips_cache_operation_buildp(&op)) goto error;

    g_object_get(VIPS_OBJECT(op), "out", out_out, NULL);

    vips_object_unref_outputs(VIPS_OBJECT(op));
    g_object_unref(op);
    return 0;

error:
    vips_object_unref_outputs(VIPS_OBJECT(op));
    g_object_unref(op);
    return -1;
}

int gen_vips_sobel(VipsImage * input, VipsImage ** out_out) {
    VipsOperation *op = vips_operation_new("sobel");
    if (!op) return -1;

    if (vips_object_set(VIPS_OBJECT(op), "in", input, NULL)) goto error;

    if (vips_cache_operation_buildp(&op)) goto error;

    g_object_get(VIPS_OBJECT(op), "out", out_out, NULL);

    vips_object_unref_outputs(VIPS_OBJECT(op));
    g_object_unref(op);
    return 0;

error:
    vips_object_unref_outputs(VIPS_OBJECT(op));
    g_object_unref(op);
    return -1;
}

int gen_vips_spcor(VipsImage * input, VipsImage * ref, VipsImage ** out_out) {
    VipsOperation *op = vips_operation_new("spcor");
    if (!op) return -1;

    if (vips_object_set(VIPS_OBJECT(op), "in", input, NULL)) goto error;
    if (vips_object_set(VIPS_OBJECT(op), "ref", ref, NULL)) goto error;

    if (vips_cache_operation_buildp(&op)) goto error;

    g_object_get(VIPS_OBJECT(op), "out", out_out, NULL);

    vips_object_unref_outputs(VIPS_OBJECT(op));
    g_object_unref(op);
    return 0;

error:
    vips_object_unref_outputs(VIPS_OBJECT(op));
    g_object_unref(op);
    return -1;
}

